<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
    <meta name="description" content="ios-driver : IOS native app automation"/>
    <link href="stylesheets/prettify.css" type="text/css" rel="stylesheet"/>
    <script type="text/javascript" src="javascripts/prettify.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/properties.js"></script>
    <title>ios-driver</title>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-48692411-1', 'ios-driver.github.io');
        ga('send', 'pageview');

    </script>
<script type="text/javascript">
$(document).ready(function($){
    
    	var nav = $('.nav-container');
    
    	$(window).scroll(function () {
        	if ($(this).scrollTop() > 170) {
            	nav.addClass("f-nav");
        	} else {
            	nav.removeClass("f-nav");
        	}
    	});
    buildMenu("safari");
	});
</script>
</head>

<body onload="prettyPrint()">

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="forkme_banner" href="https://github.com/freynaud/ios-driver">View on GitHub</a>
         <a id="download_me" href="FROMJS">Download 0.5.0</a>

        <h1 id="project_title">ios-driver</h1>

        <h2 id="project_tagline">IOS automation for native, hybrid and mobile web.</h2>

        <div id="menu" />

    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">
    <div class="nav-container">
			<div class = "nav">
    			<ul >
	            	<li><a href="#basics">Basics</a></li>
                <li><a href="#bindings">Bindings</a></li>
		            <li><a href="#nativeType">Native sendKeys</a></li>
		            <li><a href="#alerts">Alerts</a></li>
		            <li><a href="#orientation">Device Orientation</a></li>
		            <li><a href="#device">iPad Support</a></li>
		            <li><a href="#select">Select/html dropdown</a></li>
        		</ul>
			</div>
		</div>

    <p>You can use ios-driver to test web pages on mobile safari. Because ios-driver internally
        uses two different
        drivers, a native one and a web one, your tests can use native events (i.e typing text
        using the
        keyboard) and web based selectors.</p>

    <p>Before the first run you will need to update the MobileSafari Info.plist to allow ios-driver to edit it</p>
    <pre  class="prettyprint">
      sudo chmod 666 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator*.sdk/Applications/MobileSafari.app/Info.plist
    </pre>
    
    <h3 id="basics">The basics</h3>
    <pre class="prettyprint">
    public static void main(String[] args) throws Exception {
        DesiredCapabilities safari = IOSCapabilities.iphone("Safari");
        RemoteWebDriver driver = new RemoteWebDriver(new URL("http://localhost:4444/wd/hub"), safari);

        driver.get("http://www.ebay.co.uk/");

        System.out.println(driver.getTitle());
        driver.quit();
    }
    </pre>

            <p>will print</p>
    <pre>
         eBay Mobile | Electronics, Cars, Clothing, Collectibles and Daily Deals online.
    </pre>

    <h3 id="bindings">Bindings</h3>

    <p>ios-driver follows the web driver API, so you can use your favorite client bindings to write your test. Assuming you're running ios-driver locally and on the default port, you can create a connection as follows. </p>
    
  <p>Python</p>
  <pre class="prettyprint">
  from selenium import webdriver
  # iphone
  driver = webdriver.Remote("http://localhost:5555/wd/hub", webdriver.DesiredCapabilities.IPHONE)
  # ipad
  driver = webdriver.Remote("http://localhost:5555/wd/hub", webdriver.DesiredCapabilities.IPAD)
  </pre>

  <p>Java</p>
  <pre class="prettyprint">
  // iphone
  WebDriver driver = new IPhoneDriver("http://localhost:5555/wd/hub");
  // ipad
  WebDriver driver = new RemoteWebDriver("http://localhost:5555/wd/hub", DesiredCapabilities.ipad());
  </pre>

  <p>C#</p>
  <pre class="prettyprint">
  // iphone
  IWebDriver driver = new RemoteWebDriver("http://localhost:5555/wd/hub", DesiredCapabilities.IPhone());
  // ipad
  IWebDriver driver = new RemoteWebDriver("http://localhost:5555/wd/hub", DesiredCapabilities.IPad());
  </pre>

  <p>Ruby</p>
  <pre class="prettyprint">
  # iphone
  driver = Selenium::WebDriver.for :remote, :url => "http://localhost:5555/wd/hub", :desired_capabilities => :iphone
  #ipad
  driver = Selenium::WebDriver.for :remote, :url => "http://localhost:5555/wd/hub", :desired_capabilities => :ipad
  </pre>


    <h3 id="nativeType">Using the underlying native driver : sendKeys</h3>
    <iframe width="640" height="480" src="http://www.youtube.com/embed/cpYE5g4qAVw"
            frameborder="0" allowfullscreen></iframe>

    <pre class="prettyprint">
    public static void main(String[] args) throws Exception {

        DesiredCapabilities safari = IOSCapabilities.iphone("Safari");
        RemoteWebDriver driver = new RemoteWebDriver(new URL("http://localhost:4444/wd/hub"), safari);

        driver.get("http://hp.mobileweb.ebay.co.uk/home");
        WebElement search = driver.findElement(By.id("srchDv"));
        search.sendKeys("ipod");
        search.submit();

        waitFor(pageTitleToBe(driver, "ipod | eBay Mobile Web"));

        driver.quit();
    }
    </pre>


            <h3 id="alerts">Working with alerts</h3>

            <p>ios-driver can use its native part to get away from the javascript sandbox and handle
                alerts for example :</p>

            <iframe width="640" height="480" src="http://www.youtube.com/embed/2qR7mGs2Gn0"
                    frameborder="0" allowfullscreen></iframe>
     <pre class="prettyprint">

@Test
public void testHandlesTwoAlertsFromOneInteraction() {
    driver.findElement(By.id("double-prompt")).click();

    Alert alert1 = waitFor(alertToBePresent(driver));
    alert1.sendKeys("brie");
    alert1.accept();

    Alert alert2 = waitFor(alertToBePresent(driver));
    alert2.sendKeys("cheddar");
    alert2.accept();

    waitFor(elementTextToEqual(driver, By.id("text1"), "brie"));
    waitFor(elementTextToEqual(driver, By.id("text2"), "cheddar"));
}

</pre>

        <h3 id="orientation"> Changing the device and the orientation.</h3>

        <iframe width="640" height="480" src="http://www.youtube.com/embed/FK17niDWoqA"
                frameborder="0" allowfullscreen></iframe>
   <pre class="prettyprint">

public static void main(String[] args) throws Exception {

   DesiredCapabilities safari = IOSCapabilities.ipad("Safari");
   RemoteWebDriver driver = new RemoteWebDriver(new URL("http://localhost:4444/wd/hub"), safari);

   driver.get("http://hp.mobileweb.ebay.co.uk/home");

   ((Rotatable)new Augmenter().augment(driver)).rotate(ScreenOrientation.LANDSCAPE);

   WebElement search = driver.findElement(By.id("srchDv"));
   search.sendKeys("ipod");
   search.submit();

   waitFor(pageTitleToBe(driver, "ipod | eBay Mobile Web"));

   driver.quit();
}

   </pre>


        <h3 id="device">Configuring safari to support both iphone and ipad.</h3>

     doc : TODO

        <h3 id="select">Using select/option</h3>

        <p>Select are currently not working with native events enabled. So you need to disable them
            when interacting with them.The code will typically look like :</p>

         <pre class="prettyprint">
 // switching off native clicks
Configurable c = IOSDriverAugmenter.augment(driver);
c.setConfiguration(WebDriverLikeCommand.CLICK, "nativeEvents", false);

// find the select
WebElement select = driver.findElement(By.name("selectomatic"));

// and its options
List<WebElement> options =  select.findElements(By.tagName("option"));

// select the 2nd option in the list.
options.get(1).click();

// turnign native clicks back on.
c.setConfiguration(WebDriverLikeCommand.CLICK, "nativeEvents", true);
         </pre>
         <p>or, if you're using the Select helper class from the selenium support project
             (<a href="https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/Select.java">Select.java</a>) : </p>

        <pre class="prettyprint">
 // switching off native clicks
Configurable c = IOSDriverAugmenter.augment(driver);
c.setConfiguration(WebDriverLikeCommand.CLICK, "nativeEvents", false);

// use Select from Selenium support ui.
Select select = new Select(driver.findElement(By.name("selectomatic")));
List<WebElement> options = select.getOptions();

// select the 2nd option in the list.
select.setSelected(options.get(1));

// turning native clicks back on.
c.setConfiguration(WebDriverLikeCommand.CLICK, "nativeEvents", true);
         </pre>
    </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer"/>

</div>
</body>
</html>
